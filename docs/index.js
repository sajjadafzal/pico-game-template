parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"rbid":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={ALIEN:"ALIEN",BULLET:"BULLET",DOOR:"DOOR",HACKER:"HACKER",HERO:"HERO",WALL:"WALL"};exports.default=e;
},{}],"JXc7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={TEXT:"TEXT",RECT:"RECT",CIRCLE:"CIRCLE",IMAGE:"IMG"};exports.default=e;
},{}],"k5DX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var i,s=0;s<e.length;s++)(i=e[s]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),e=require("./families.js"),i=h(e),s=require("./shapeTypes.js"),a=h(s);function h(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(t){switch(l(this,e),this.children=t.children||[],this.dx=t.dx,this.dy=t.dy,this.fill=t.fill||"#000",this.h=t.h||2,this.name=t.name,this.text=t.text,this.w=t.w||2,this.x=t.x||0,this.y=t.y||0,this.zIndex=t.zIndex||1,this.id=++e.id,this.text?(this.font=t.font||4,this.text=t.text,this.type=a.default.TEXT):(this.family=t.family||i.default.WALL,this.type=t.type||a.default.RECT),this.family){case i.default.HERO:this.x=45,this.y=5;case i.default.ALIEN:this.w=6,this.h=6,this.hp=t.hp||100,this.chp=this.hp,this.isInLineOfSight=!1,this.lastFireTime=0;break;case i.default.BULLET:this.byHero=t.byHero,this.dmg=t.dmg||10,this.fill="orange",this.w=1,this.h=1,this.type=a.default.CIRCLE,this.isReal=t.isReal,this.src=t.src;break;case i.default.WALL:this.fill=t.fill||"#fff"}}return t(e,[{key:"draw",value:function(t){var e=this;if(!1!==this.isReal){var i=t.canvas.width/100,s=(t.canvas.height-50)/100;[Object.create(this)].concat(r(this.children.map(function(t){var i=Object.create(t);return i.x+=e.x,i.y+=e.y,i}))).forEach(function(e){switch(e.x*=i,e.y*=s,e.w*=i,e.h*=s,e.y+=50,t.strokeStyle="#000",t.fillStyle=e.fill,e.type){case a.default.CIRCLE:e.x+=e.w/2,e.y+=e.w/2,t.beginPath(),t.arc(e.x,e.y,e.w/2,0,2*Math.PI,0),t.fill();break;case a.default.RECT:t.fillRect(e.x,e.y,e.w,e.h);break;case a.default.TEXT:e.font*=s,e.y+=e.font,t.font=e.font+"px arial",t.fillText(e.text,e.x,e.y);break;case a.default.IMAGE:}e.hp&&(t.fillStyle="#00e635",t.fillRect(e.x,e.y-6,e.chp*e.w/e.hp,4))})}}},{key:"isColliding",value:function(t){return!(this.x+this.w<t.x||this.x>t.x+t.w||this.y+this.h<t.y||this.y>t.y+t.h)}}]),e}();exports.default=n,n.id=0;
},{"./families.js":"rbid","./shapeTypes.js":"JXc7"}],"hZZ8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./gameObject.js"),a=n(e),t=require("./families.js"),l=n(t);function n(e){return e&&e.__esModule?e:{default:e}}var r=[new a.default({family:l.default.ALIEN,hp:200,h:5,w:5,y:90,x:30}),new a.default({family:l.default.ALIEN,hp:150,h:5,w:5,y:90,x:40}),new a.default({family:l.default.ALIEN,hp:100,h:5,w:5,y:90,x:50}),new a.default({family:l.default.ALIEN,hp:50,h:5,w:5,y:90,x:60}),new a.default({w:100,fill:"#000"}),new a.default({y:98,w:100,fill:"#000"}),new a.default({h:100,fill:"#000"}),new a.default({x:98,h:100,fill:"#000"}),new a.default({name:"L270",x:15,y:15,h:20,children:[new a.default({w:20})]}),new a.default({name:"L180DegreePart1",x:80,y:15,h:20}),new a.default({name:"L180DegreePart2",x:60,y:15,w:20}),new a.default({name:"T180DegreePart1",x:46,y:15,h:20}),new a.default({name:"T180DegreePart2",x:37,y:35,w:20}),new a.default({name:"L2_270DegreePart1",x:15,y:65,h:20}),new a.default({name:"L2_270DegreePart2",x:15,y:65,w:26}),new a.default({name:"L2_180DegreePart1",x:80,y:65,h:20}),new a.default({name:"L2_180DegreePart2",x:55,y:65,w:25}),new a.default({name:"L3_270DegreePart1",x:32,y:50,h:17,children:[new a.default({name:"L3_270DegreePart2",w:30}),new a.default({name:"L3_270DegreePart2",x:30,h:17})]}),new a.default({name:"L3_270DegreePart2",x:15,y:65,w:20}),new a.default({name:"L3_180DegreePart1",x:80,y:65,h:20}),new a.default({name:"L3_180DegreePart2",x:60,y:65,w:20})];exports.default=r;
},{"./gameObject.js":"k5DX","./families.js":"rbid"}],"QcRT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var i,s=0;s<e.length;s++)(i=e[s]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),e=require("./families.js"),i=c(e),s=require("./gameObject.js"),h=c(s),r=require("./level.js"),a=c(r),n=require("./shapeTypes.js"),l=c(n);function c(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u={MAIN_MENU:"MAIN_MENU",IN_GAME:"IN_GAME",END_GAME:"END_GAME"},d=function(){function e(t,s,r,n){var l=this;f(this,e),this.assets=n,this.ctx=document.createElement("canvas").getContext("2d"),this.ctx.canvas.width=this.w=s,this.ctx.canvas.height=this.h=r,t.appendChild(this.ctx.canvas),this.topScore=0,this.score=0,this.difficulty=1,this.screen=u.IN_GAME,this.objects=Object.create(a.default),this.bullets=[],this.hero=new h.default({family:i.default.HERO}),this.keyState={},this.ctx.canvas.addEventListener("click",function(t){return l.handleInput(t)}),document.addEventListener("keydown",function(t){return l.handleInput(t)}),document.addEventListener("keyup",function(t){return l.handleInput(t)}),this.redraw()}return t(e,[{key:"redraw",value:function(){var t=this;this.clear(),this.screen===u.MAIN_MENU?this.drawMenu():this.screen===u.END_GAME?this.drawEnd():(this.updateState(),this.draw()),window.requestAnimationFrame(function(){t.redraw()})}},{key:"updateState",value:function(){var t=this,e=[this.hero].concat(o(this.getObjects())),s=Object.create(this.hero),h=.33;1<Object.values(this.keyState).filter(function(t){return t}).length&&(h/=1.5),(this.keyState[37]||this.keyState[65])&&(s.x-=h),(this.keyState[38]||this.keyState[87])&&(s.y-=h),(this.keyState[39]||this.keyState[68])&&(s.x+=h),(this.keyState[40]||this.keyState[83])&&(s.y+=h);for(var r,n=[],c=0;c<e.length;c+=1)if((r=e[c]).type!==l.default.TEXT){r.family===i.default.WALL&&s.isColliding(r)&&(s=this.hero);for(var f,d=0;d<this.bullets.length;d+=1)(!(f=this.bullets[d]).byHero||r.family!==i.default.HERO)&&(f.byHero||r.family!==i.default.ALIEN)&&f.isColliding(r)&&(f.src.isInLineOfSight=r.family!==i.default.WALL,f.isReal&&(r.chp-=f.dmg,0>=r.chp&&(r.family===i.default.HERO?(this.screen=u.END_GAME,d=this.bullets.length,c=e.length):n.push(r.id))),this.bullets.splice(d,1));if(r.family===i.default.ALIEN){var x=r.isInLineOfSight?1e3:50,y=Date.now();y-r.lastFireTime>x&&(this.addBullet(null,r),r.lastFireTime=y)}}this.bullets.forEach(function(t){t.x+=t.dx,t.y+=t.dy}),this.hero=s,this.objects=this.objects.filter(function(e){return!(-1<n.indexOf(e.id)&&(t.score+=e.hp/10*t.difficulty,1))}),0===this.objects.filter(function(t){return t.family===i.default.ALIEN}).length&&(this.difficulty+=1,this.hero.chp=100,this.hero.x=45,this.hero.y=5,this.objects=Object.create(a.default),this.screen=u.IN_GAME)}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}},{key:"draw",value:function(){var t=this;this.addFlooring(),this.addLighting(),this.bullets.forEach(function(e){e.draw(t.ctx)}),this.objects.sort(function(t,e){return t.zIndex-e.zIndex}).forEach(function(e){e.draw(t.ctx)}),this.hero.draw(this.ctx),this.drawHUD()}},{key:"addFlooring",value:function(){this.ctx.lineWidth=1,this.ctx.strokeStyle="rgba(1,14,4,0.2)",this.ctx.beginPath();for(var t=0;t<this.w-0;t+=20)for(var e=0;e<this.h-0;e+=20)this.ctx.rect(t,e,20,20);this.ctx.stroke()}},{key:"addLighting",value:function(){var t=this.w/2,e=this.h/2,i=this.ctx.createRadialGradient(t,e,50,t,e,this.w-100);i.addColorStop(0,"rgba(17,102,37,0.9)"),i.addColorStop(1,"rgba(1,14,4,1)"),this.ctx.fillStyle=i,this.ctx.arc(t,e,this.w/2,0,2*Math.PI),this.ctx.fill()}},{key:"drawHUD",value:function(){var t=3.5*this.h/100;this.ctx.fillStyle="rgba(1,14,4,0.5)",this.ctx.fillRect(0,0,this.w,50),this.ctx.textAlign="left",this.ctx.font=t+"px arial",this.ctx.fillStyle="#fff",this.ctx.fillText("Score: "+this.score+"         Level: "+this.difficulty+"         Health: "+this.hero.chp+"         Top Score: "+this.topScore,25,33)}},{key:"drawMenu",value:function(){var t=8*this.h/100,e=this.w/2,i=40*this.h/100;this.ctx.fillStyle="rgba(1,14,4,1)",this.ctx.fillRect(0,0,this.w,this.h),this.ctx.textAlign="center",this.ctx.fillStyle="#fff",this.ctx.font=t+"px arial",this.ctx.fillText("Tony Hawk's Gun Smash",e,i),this.ctx.fillStyle="rgba(255,255,255,0.5)",this.ctx.font=t/2+"px arial",this.ctx.fillText("Click anywhere to start",e,1.75*i)}},{key:"drawEnd",value:function(){var t=8*this.h/100,e=this.w/2,i=40*this.h/100;this.ctx.fillStyle="rgba(1,14,4,1)",this.ctx.fillRect(0,0,this.w,this.h),this.ctx.textAlign="center",this.ctx.fillStyle="#fff",this.ctx.font=t+"px arial",this.score>this.topScore?this.ctx.fillText("You Pro!",e,i):this.ctx.fillText("What a Noob!",e,i),this.ctx.fillStyle="rgba(255,255,255,0.5)",this.ctx.font=t/2+"px arial",this.ctx.fillText("See you next time!",e,1.25*i),this.ctx.fillText("Click anywhere to restart",e,1.75*i)}},{key:"handleInput",value:function(t){t.preventDefault(),1===t.which?this.screen===u.MAIN_MENU?(this.hero.chp=100,this.hero.x=45,this.hero.y=5,this.screen=u.IN_GAME,this.objects=Object.create(a.default)):this.screen===u.IN_GAME?this.addBullet(t):this.screen===u.END_GAME&&(this.screen=u.MAIN_MENU,this.score>this.topScore&&(this.topScore=this.score,this.score=0)):-1<t.type.indexOf("down")?this.keyState[t.which]=t:this.keyState[t.which]=!1}},{key:"addBullet",value:function(t,e){var s=Math.pow,r=void 0,a=void 0,n=void 0,l=void 0,c=!e;if(t){var o=this.ctx.canvas.getBoundingClientRect();r=this.hero.x,a=this.hero.y,n=-this.w/100+100*(t.clientX-o.left)/this.w,l=-this.h/100+100*(t.clientY-o.top)/this.h}else r=e.x,a=e.y,n=this.hero.x,l=this.hero.y;var f=n-r,u=l-a,d=Math.sqrt(s(f,2)+s(u,2));r+=this.hero.w/2,a+=this.hero.h/2,this.bullets.push(new h.default({byHero:c,dx:f/d*1.5,dy:u/d*1.5,family:i.default.BULLET,x:r,y:a,src:e||this.hero,isReal:c||e.isInLineOfSight}))}},{key:"getObjects",value:function(){return this.objects.reduce(function(t,e){return t.push(e),e.children.forEach(function(e){t.push(e)}),t},[])}}]),e}();exports.default=d;
},{"./families.js":"rbid","./gameObject.js":"k5DX","./level.js":"hZZ8","./shapeTypes.js":"JXc7"}],"Focm":[function(require,module,exports) {
"use strict";var e=require("./game.js"),t=r(e);function r(e){return e&&e.__esModule?e:{default:e}}new t.default(document.querySelector("#game"),480,480,{hero:document.getElementById("hero")});
},{"./game.js":"QcRT"}]},{},["Focm"], null)
//# sourceMappingURL=/index.map
import GameObject from'./gameObject.js';export default class Game{constructor(a){this.store={assets:{},gameObjects:[new GameObject({type:'arc',x:50,y:50,radius:50}),new GameObject({type:'rect',x:150,y:150,width:100,height:100})]},this.width=a.width,this.height=a.height,this.container=a.container,this.canvas=document.createElement('canvas'),this.ctx=this.canvas.getContext('2d'),this.initialize(),Game.loadAssets(a.assets).then(a=>{this.store.assets=a,this.start()})}initialize(){this.canvas.width=this.width,this.canvas.height=this.height,this.container.appendChild(this.canvas),this.canvas.addEventListener('click',a=>this.handleInput(a)),document.addEventListener('keydown',a=>this.handleInput(a))}handleInput(a){return a.preventDefault(),this.store.gameObjects.forEach(b=>{b.handleInput(a)}),!1}start(){this.redraw()}redraw(){this.updateState(),this.clear(),this.draw(),window.requestAnimationFrame(()=>{this.redraw()})}updateState(){this.store.gameObjects.forEach(a=>{a.x+=1,a.y+=1})}clear(){this.ctx.clearRect(0,0,this.width,this.height)}draw(){this.store.gameObjects.forEach(a=>{a.draw(this.ctx)})}}Game.loadAssets=async a=>{return a.forEach(a=>{console.log(a)}),{}};